(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{176:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(52),s=a.n(c),o=a(11),l=a(177),i=a(33),m=a(60),u=a(12),p={translation:{signin:{welcome:"Support Classes Index",mustSignIn:"You must sign in!",odyssey:"Sign in with Odyssey"}}},d={translation:{signin:{welcome:"Support Classes Index",mustSignIn:"Tu dois t'authentifier !",odyssey:"Se connecter avec Odyssey"}}};console.log(p,d),i.a.use(m.a).use(u.f).init({resources:{en:p,fr:d},fallbackLng:"en",debug:!0});var f=i.a,v=(a(66),a(67),a(2)),h=a.n(v),g=a(8),E=a(9),b=a(4),_=a.n(b),N=a(1),O=a(178),x=a(55),w=a.n(x),k=(a(85),{fr:"france",uk:"u-k"});var j=function(e){var t=e.lang,a=e.i18n;return r.a.createElement("img",{alt:t,className:"Flag",src:"/img/".concat(k[t],".gif"),onClick:function(){return a.changeLanguage(t)}})};function S(e){var t=e.splash,a=e.className,n=t?"wcs-logo-splash":"wcs-logo";return r.a.createElement("img",{className:a,alt:"Wild Code School logo",src:"/img/".concat(n,".png")})}S.defaultProps={splash:!1,className:"WildLogo"};var y=S,C=(a(86),Object({NODE_ENV:"production",PUBLIC_URL:"/wcssci",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_OAUTH_URL:"https://odyssey.wildcodeschool.com/oauth/authorize",REACT_APP_OAUTH_CLIENT_ID:"112e81534dd215c221148c059be66051c0f06bf727aecf962e4ca4de19d0e11c",REACT_APP_OAUTH_REDIRECT:"https://bhubr.github.io/wcssci/",REACT_APP_BASENAME:"/wcssci",REACT_APP_API_URL:"https://support-classes-index-api.herokuapp.com"})),A=C.REACT_APP_OAUTH_URL,T=C.REACT_APP_OAUTH_CLIENT_ID,P=C.REACT_APP_OAUTH_REDIRECT;var L=function(e){var t=e.onSuccess,a=e.onFailure,n=Object(O.a)(),c=n.t,s=n.i18n;return r.a.createElement("div",{className:"Login"},r.a.createElement("nav",{className:"Login__nav"},r.a.createElement(j,{lang:"fr",i18n:s}),r.a.createElement(j,{lang:"uk",i18n:s})),r.a.createElement("div",{className:"Login__inner flex flex-center"},r.a.createElement("div",{className:"flex flex-col flex-center"},r.a.createElement("div",{className:"Login__backdrop"},r.a.createElement(y,{className:"WildLogo--splash",splash:!0}),r.a.createElement("h3",null,c("signin.welcome")),r.a.createElement("p",null,c("signin.mustSignIn")),r.a.createElement(w.a,{authorizationUrl:A,clientId:T,redirectUri:P,responseType:"code",onSuccess:t,onFailure:a,className:"btn btn-lg btn-coral mt-2",buttonText:c("signin.odyssey")})))),r.a.createElement("div",{className:"Login__credits flex flex-center"},r.a.createElement("div",{className:"Login__credits__item"},"Background by"," ",r.a.createElement("a",{href:"https://unsplash.com/@mr_vero?utm_medium=referral&utm_campaign=photographer-credit&utm_content=creditBadge",target:"_blank",rel:"noopener noreferrer",title:"Download free do whatever you want high-resolution photos from Irvan Smith"},r.a.createElement("span",{className:"Login__credits__inner"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{height:"12px",width:"auto",position:"relative",verticalAlign:"middle",top:"-2px",fill:"white"},viewBox:"0 0 32 32"},r.a.createElement("title",null,"unsplash-logo"),r.a.createElement("path",{d:"M10 9V0h12v9H10zm12 5h10v18H0V14h10v9h12v-9z"}))),r.a.createElement("span",{className:"Login__credits__inner"},"Irvan Smith"))),r.a.createElement("div",{className:"Login__credits__item"},"Icons by"," ",r.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik"),"@",r.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"flaticon.com"))))};var D=function(e){var t=e.auth,a=e.setAuth,n=function(){var e=Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("".concat("https://support-classes-index-api.herokuapp.com","/auth/logout"));case 3:t=e.sent,n=t.data,console.log(n),a(null),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("ul",{className:"Navbar nav"},r.a.createElement("li",{className:"Navbar__home nav-item"},r.a.createElement(o.b,{to:"/"},"Home")),t.isTrainer&&r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.b,{to:"/create-session"},"Create session")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{href:"#",onClick:n},"Logout")))},I=a(59),F=a(17),R=a(13);function U(e){var t=e.initialFormData,a=e.sendData,c=e.onSendDataSuccess,s=e.buttonText,o=Object(n.useState)(t),l=Object(E.a)(o,2),i=l[0],m=l[1],u=Object(n.useState)(1),p=Object(E.a)(u,2),d=p[0],f=p[1],v=Object(n.useState)(null),b=Object(E.a)(v,2),_=b[0],N=b[1],O=function(e){var t=e.target,a=t.name,n=t.value,r=Object(R.a)({},i,Object(F.a)({},a,n));m(r)},x=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(i),a(i).then(c).catch(N);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){return function(t){var a=t.target,n=a.name,r=a.value,c=i.resources.map((function(t){return t.id!==e?Object(R.a)({},t):Object(R.a)({},t,Object(F.a)({},n,r))})),s=Object(R.a)({},i,{resources:c});m(s)}},k=i.title,j=i.description,S=i.language,y=i.createdAt,C=i.resources;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column col-12"},r.a.createElement("form",{className:"SessionForm",onSubmit:x},_&&r.a.createElement("div",{className:"toast toast-error"},_.message),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label",htmlFor:"title"},"Title"),r.a.createElement("input",{className:"form-input",id:"title",name:"title",type:"text",value:k,onChange:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label",htmlFor:"description"},"Description"),r.a.createElement("textarea",{className:"form-input",id:"description",name:"description",rows:"4",value:j,onChange:O})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label",htmlFor:"language"},"Language"),r.a.createElement("select",{className:"form-select",id:"language",name:"language",value:S,onChange:O},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"php"},"PHP"),r.a.createElement("option",{value:"js"},"JavaScript"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-label",htmlFor:"date"},"Date (MM/DD/YYYY)"),r.a.createElement("input",{className:"form-input",id:"date",name:"createdAt",type:"date",value:y,onChange:O})),C.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title-".concat(e.id),className:"form-label form-inline"},"Title",r.a.createElement("input",{id:"title-".concat(e.id),className:"form-input",name:"title",type:"text",value:e.title,onChange:w(e.id)})),r.a.createElement("label",{htmlFor:"link-".concat(e.id),className:"form-label form-inline"},"Link",r.a.createElement("input",{id:"link-".concat(e.id),className:"form-input",name:"link",type:"text",value:e.link,onChange:w(e.id)}))))})),r.a.createElement("button",{type:"button",onClick:function(e){var t=[].concat(Object(I.a)(i.resources),[{id:"tmp-".concat(d),title:"",link:""}]),a=Object(R.a)({},i,{resources:t});m(a),f(d+1)}},"+"),r.a.createElement("button",{className:"btn btn-primary",type:"submit"},s)))))}U.defaultProps={onSendDataSuccess:function(e){return console.log(e.data)}};var H=U,W={title:"",description:"",language:"",createdAt:"",resources:[]};var B=function(){return r.a.createElement(H,{initialFormData:W,sendData:function(e){return _.a.post("".concat("https://support-classes-index-api.herokuapp.com","/session/create"),e)},buttonText:"Create"})},M=a(34);var Y=function(){var e=Object(n.useState)(null),t=Object(E.a)(e,2),a=t[0],c=t[1],s=Object(N.f)().id;return Object(n.useEffect)((function(){(function(){var e=Object(g.a)(h.a.mark((function e(){var t,a,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("".concat("https://support-classes-index-api.herokuapp.com","/session/get/").concat(s));case 3:t=e.sent,a=t.data,n=a.created_at,r=Object(M.a)(a,["created_at"]),c(Object(R.a)({createdAt:n},r)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),alert(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),a?r.a.createElement(H,{initialFormData:a,sendData:function(e){var t=e.id,a=Object(M.a)(e,["id"]);return _.a.post("/session/update/".concat(t),a)},buttonText:"Update"}):r.a.createElement("div",{className:"loading"})},z=a(58),J=a.n(z),K=Object(n.createContext)(null);var V=function(){var e=Object(n.useState)(null),t=Object(E.a)(e,2),a=t[0],c=t[1],s=Object(n.useContext)(K).isTrainer;return Object(n.useEffect)((function(){(function(){var e=Object(g.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("".concat("https://support-classes-index-api.herokuapp.com","/session/index"));case 3:t=e.sent,a=t.data,c(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),a?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column col-12"},a.map((function(e){var t=e.id,a=e.title,n=e.description,c=e.language,l=e.created_at,i=e.resources;return r.a.createElement("div",{className:"SessionCard card",key:t},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"float-right"},r.a.createElement("img",{className:"SessionCard__img",src:"/img/".concat(c,"-logo.svg"),alt:"".concat(c," logo")})),r.a.createElement("div",{className:"card-title h5"},a,s&&r.a.createElement(o.b,{className:"SessionCard__editLink",to:"/edit-session/".concat(t)},"Edit")),r.a.createElement("div",{className:"card-subtitle text-gray"},l)),r.a.createElement("div",{className:"card-body"},r.a.createElement(J.a,{source:n}),i.map((function(e){var t=e.id,a=e.link,n=e.title;return r.a.createElement("a",{key:t,className:"SessionCard__resource",rel:"noopener noreferrer",target:"_blank",href:a},n)}))))}))))):r.a.createElement("div",{className:"loading"})};var $=function(){var e=Object(n.useState)(null),t=Object(E.a)(e,2),a=(t[0],t[1]),c=Object(n.useState)(null),s=Object(E.a)(c,2),o=s[0],l=s[1],i=function(){var e=Object(g.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("".concat("https://support-classes-index-api.herokuapp.com","/auth/code"),{code:t});case 3:n=e.sent,r=n.data,console.log("getCode",r),l(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(g.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l({loading:!0}),e.next=4,_.a.get("".concat("https://support-classes-index-api.herokuapp.com","/auth/me"));case 4:t=e.sent,a=t.data,l(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message),l(null);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),o?o.loading?r.a.createElement("div",{className:"loading"}):r.a.createElement("div",{className:"App"},r.a.createElement(K.Provider,{value:o},r.a.createElement(D,{auth:o,setAuth:l}),r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:"/",component:V}),r.a.createElement(N.a,{path:"/create-session",component:B}),r.a.createElement(N.a,{path:"/edit-session/:id",component:Y})))):r.a.createElement(L,{onSuccess:function(e){var t=e.code;return i(t)},onFailure:function(e){return console.error(e)}})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{i18n:f},r.a.createElement(o.a,{basename:"/wcssci"},r.a.createElement($,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,a){e.exports=a(176)},67:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){}},[[61,1,2]]]);
//# sourceMappingURL=main.b3ef4c4a.chunk.js.map